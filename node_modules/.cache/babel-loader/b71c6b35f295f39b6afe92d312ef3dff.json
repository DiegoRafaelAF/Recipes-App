{"ast":null,"code":"import _slicedToArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import Header from'./Header';import shareIcon from\"../images/shareIcon.svg\";import{getColors}from'./FavoriteRecipes';import'./CSS/DoneRecipes.css';import meal from\"../images/meal.svg\";import drink from\"../images/drink.svg\";import filter from\"../images/filter.svg\";var buttons=function buttons(setRecipes,state){var food=state.filter(function(e){return e.type==='comida';});var drinck=state.filter(function(e){return e.type==='bebida';});return/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-filter-buttons\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"button-main-screen\",\"data-testid\":\"filter-by-all-btn\",onClick:function onClick(){return setRecipes(state);}},/*#__PURE__*/React.createElement(\"img\",{src:filter,width:\"20px\",alt:\"\"}),\"All\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"button-main-screen\",\"data-testid\":\"filter-by-food-btn\",onClick:function onClick(){return setRecipes(food);}},/*#__PURE__*/React.createElement(\"img\",{src:meal,width:\"20px\",alt:\"\"}),\"Food\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"button-main-screen\",\"data-testid\":\"filter-by-drink-btn\",onClick:function onClick(){return setRecipes(drinck);}},/*#__PURE__*/React.createElement(\"img\",{src:drink,width:\"20px\",alt:\"\"}),\"Drinks\"));};var clipboard=function clipboard(type,id,setClp){navigator.clipboard.writeText(\"http://localhost:3000/\".concat(type,\"s/\").concat(id)).then(function(){setClp(false);setTimeout(function(){setClp(true);},2000);});};var renderRecipes=function renderRecipes(recipes,setClp){return/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-recipes-container\"},recipes.map(function(_ref,idxMap){var id=_ref.id,type=_ref.type,category=_ref.category,alcoholicOrNot=_ref.alcoholicOrNot,name=_ref.name,image=_ref.image,area=_ref.area,doneDate=_ref.doneDate,tags=_ref.tags;return/*#__PURE__*/React.createElement(\"div\",{className:\"done-recipes-card\",key:name,style:{backgroundColor:getColors()}},/*#__PURE__*/React.createElement(Link,{to:\"\".concat(type,\"s/\").concat(id)},/*#__PURE__*/React.createElement(\"img\",{\"data-testid\":\"\".concat(idxMap,\"-horizontal-image\"),src:image,alt:\"Imagem da Receita Finalizada\",width:\"150px\"})),/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(idxMap,\"-horizontal-top-text\")},\"\".concat(area,\" - \").concat(category)),type==='bebida'?/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(idxMap,\"-horizontal-top-text\")},alcoholicOrNot):null,/*#__PURE__*/React.createElement(Link,{to:\"\".concat(type,\"s/\").concat(id),\"data-testid\":\"\".concat(idxMap,\"-horizontal-name\")},name),/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(idxMap,\"-horizontal-done-date\")},doneDate),/*#__PURE__*/React.createElement(\"div\",{className:\"tags\"},tags.map(function(tag){return/*#__PURE__*/React.createElement(\"p\",{key:tag,\"data-testid\":\"\".concat(idxMap,\"-\").concat(tag,\"-horizontal-tag\")},\"\".concat(tag));})),/*#__PURE__*/React.createElement(\"button\",{className:\"share\",type:\"button\",\"data-testid\":\"\".concat(idxMap,\"-horizontal-share-btn\"),onClick:function onClick(){return clipboard(type,id,setClp);},src:shareIcon},/*#__PURE__*/React.createElement(\"img\",{src:shareIcon,alt:\"icon\"})));}));};var DoneRecipes=function DoneRecipes(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var state=JSON.parse(localStorage.getItem('doneRecipes'));var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),clp=_useState4[0],setClp=_useState4[1];var storage=JSON.parse(localStorage.getItem('doneRecipes'));if(!storage){storage=[];}useEffect(function(){renderRecipes(recipes);setRecipes(storage);},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-recipes-screen\"},/*#__PURE__*/React.createElement(Header,{screen:\"Receitas Feitas\"}),state&&buttons(setRecipes,state),recipes&&renderRecipes(recipes,setClp),/*#__PURE__*/React.createElement(\"p\",{className:\"alert\",hidden:clp},\"Link copiado!\"));};export default DoneRecipes;","map":{"version":3,"sources":["/home/diego/GitHub/recipes-app/src/components/DoneRecipes.jsx"],"names":["React","useState","useEffect","Link","Header","getColors","buttons","setRecipes","state","food","filter","e","type","drinck","meal","drink","clipboard","id","setClp","navigator","writeText","then","setTimeout","renderRecipes","recipes","map","idxMap","category","alcoholicOrNot","name","image","area","doneDate","tags","backgroundColor","tag","shareIcon","DoneRecipes","JSON","parse","localStorage","getItem","clp","storage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\nimport shareIcon from '../images/shareIcon.svg';\nimport { getColors } from './FavoriteRecipes';\nimport './CSS/DoneRecipes.css';\nimport meal from '../images/meal.svg';\nimport drink from '../images/drink.svg';\nimport filter from '../images/filter.svg';\n\nconst buttons = (setRecipes, state) => {\n  const food = state.filter((e) => e.type === 'comida');\n  const drinck = state.filter((e) => e.type === 'bebida');\n  return (\n    <div className=\"favorite-filter-buttons\">\n      <button\n        type=\"button\"\n        className=\"button-main-screen\"\n        data-testid=\"filter-by-all-btn\"\n        onClick={() => setRecipes(state)}\n      >\n        <img src={filter} width=\"20px\" alt=\"\" />\n        All\n      </button>\n      <button\n        type=\"button\"\n        className=\"button-main-screen\"\n        data-testid=\"filter-by-food-btn\"\n        onClick={() => setRecipes(food)}\n      >\n        <img src={meal} width=\"20px\" alt=\"\" />\n        Food\n      </button>\n      <button\n        type=\"button\"\n        className=\"button-main-screen\"\n        data-testid=\"filter-by-drink-btn\"\n        onClick={() => setRecipes(drinck)}\n      >\n        <img src={drink} width=\"20px\" alt=\"\" />\n        Drinks\n      </button>\n    </div>\n  );\n};\n\nconst clipboard = (type, id, setClp) => {\n  navigator.clipboard.writeText(`http://localhost:3000/${type}s/${id}`)\n    .then(() => {\n      setClp(false);\n      setTimeout(() => {\n        setClp(true);\n      }, 2000);\n    });\n};\n\nconst renderRecipes = (recipes, setClp) => (\n  <div className=\"favorite-recipes-container\">\n    {recipes.map(({\n      id,\n      type,\n      category,\n      alcoholicOrNot,\n      name,\n      image,\n      area,\n      doneDate,\n      tags,\n    }, idxMap) => (\n      <div className=\"done-recipes-card\" key={name} style={{ backgroundColor: getColors() }}>\n        <Link to={`${type}s/${id}`}>\n          <img\n            data-testid={`${idxMap}-horizontal-image`}\n            src={image}\n            alt=\"Imagem da Receita Finalizada\"\n            width=\"150px\"\n          />\n        </Link>\n        <p data-testid={`${idxMap}-horizontal-top-text`}>{`${area} - ${category}`}</p>\n        {type === 'bebida'\n          ? <p data-testid={`${idxMap}-horizontal-top-text`}>{alcoholicOrNot}</p>\n          : null}\n        <Link to={`${type}s/${id}`} data-testid={`${idxMap}-horizontal-name`}>{name}</Link>\n        <p data-testid={`${idxMap}-horizontal-done-date`}>{doneDate}</p>\n        <div className=\"tags\">\n          {tags.map((tag) => (\n            <p key={tag} data-testid={`${idxMap}-${tag}-horizontal-tag`}>{`${tag}`}</p>\n          ))}\n        </div>\n        <button\n          className=\"share\"\n          type=\"button\"\n          data-testid={`${idxMap}-horizontal-share-btn`}\n          onClick={() => clipboard(type, id, setClp)}\n          src={shareIcon}\n        >\n          <img src={shareIcon} alt=\"icon\" />\n        </button>\n      </div>\n    ))}\n  </div>\n);\n\nconst DoneRecipes = () => {\n  const [recipes, setRecipes] = useState([]);\n  const state = JSON.parse(localStorage.getItem('doneRecipes'));\n  const [clp, setClp] = useState(true);\n\n  let storage = JSON.parse(localStorage.getItem('doneRecipes'));\n  if (!storage) { storage = []; }\n\n  useEffect(() => {\n    renderRecipes(recipes);\n    setRecipes(storage);\n  }, []);\n\n  return (\n    <div className=\"favorite-recipes-screen\">\n      <Header screen=\"Receitas Feitas\" />\n      {state && buttons(setRecipes, state)}\n      {recipes && renderRecipes(recipes, setClp)}\n      <p className=\"alert\" hidden={clp}>Link copiado!</p>\n    </div>\n  );\n};\n\nexport default DoneRecipes;\n"]},"metadata":{},"sourceType":"module"}