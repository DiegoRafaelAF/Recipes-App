{"ast":null,"code":"import _slicedToArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect,useContext}from'react';import{useHistory}from'react-router-dom';import{ContextAplication}from'../context/ContextAplication';import'./CSS/LoginScreen.css';var handleChangeInput=function handleChangeInput(name,event,input,setInput){setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},name,event)));};var handleFormSubmit=function handleFormSubmit(saveInput,input,history){localStorage.setItem('user',JSON.stringify({email:input.email}));localStorage.setItem('mealsToken',1);localStorage.setItem('cocktailsToken',1);saveInput(input);return history.push('./comidas');};function createForm(input,setInput){return/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s6 \"},/*#__PURE__*/React.createElement(\"input\",{className:\"input-login\",\"data-testid\":\"email-input\",onChange:function onChange(ele){return handleChangeInput('email',ele.target.value,input,setInput);},type:\"email\",name:\"email\",placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"input-login\",\"data-testid\":\"password-input\",onChange:function onChange(ele){return handleChangeInput('password',ele.target.value,input,setInput);},type:\"password\",name:\"password\",placeholder:\"Senha\"})));}function LoginScreen(){var _useContext=useContext(ContextAplication),saveInput=_useContext.saveInput;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),informations=_useState4[0],setInformations=_useState4[1];var history=useHistory();useEffect(function(){var validEmailRegEx=/^[A-Z0-9_'%=+!`#~$*?^{}&|-]+([.][A-Z0-9_'%=+!`#~$*?^{}&|-]+)*@[A-Z0-9-]+(\\.[A-Z0-9-]+)+$/i;if(!validEmailRegEx.test(input.email)||input.password.length<=6)return setInformations(true);return setInformations(false);},[input]);return/*#__PURE__*/React.createElement(\"div\",{className:\"login-screen\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"app-name\"},\"Cooking Time\"),createForm(input,setInput,informations),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\" btn btn-login\",disabled:informations,\"data-testid\":\"login-submit-btn\",onClick:function onClick(){return handleFormSubmit(saveInput,input,history);}},\"Entrar\"));}export default LoginScreen;","map":{"version":3,"sources":["/home/diego/GitHub/recipes-app/src/components/LoginScreen.jsx"],"names":["React","useState","useEffect","useContext","useHistory","ContextAplication","handleChangeInput","name","event","input","setInput","handleFormSubmit","saveInput","history","localStorage","setItem","JSON","stringify","email","push","createForm","ele","target","value","LoginScreen","password","informations","setInformations","validEmailRegEx","test","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { ContextAplication } from '../context/ContextAplication';\n\nimport './CSS/LoginScreen.css';\n\nconst handleChangeInput = (name, event, input, setInput) => {\n  setInput({ ...input, [name]: event });\n};\n\nconst handleFormSubmit = (saveInput, input, history) => {\n  localStorage.setItem('user', JSON.stringify({ email: input.email }));\n  localStorage.setItem('mealsToken', 1);\n  localStorage.setItem('cocktailsToken', 1);\n  saveInput(input);\n\n  return history.push('./comidas');\n};\n\nfunction createForm(input, setInput) {\n  return (\n    <form>\n      <div className=\"input-field col s6 \">\n        <input\n          className=\"input-login\"\n          data-testid=\"email-input\"\n          onChange={(ele) => handleChangeInput('email', ele.target.value, input, setInput)}\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n        />\n        <input\n          className=\"input-login\"\n          data-testid=\"password-input\"\n          onChange={(ele) => handleChangeInput('password', ele.target.value, input, setInput)}\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Senha\"\n        />\n      </div>\n    </form>\n  );\n}\n\nfunction LoginScreen() {\n  const { saveInput } = useContext(ContextAplication);\n  const [input, setInput] = useState({ email: '', password: '' });\n  const [informations, setInformations] = useState(true);\n  const history = useHistory();\n\n  useEffect(() => {\n    const validEmailRegEx = /^[A-Z0-9_'%=+!`#~$*?^{}&|-]+([.][A-Z0-9_'%=+!`#~$*?^{}&|-]+)*@[A-Z0-9-]+(\\.[A-Z0-9-]+)+$/i;\n\n    if (!validEmailRegEx.test(input.email)\n      || (input.password.length <= 6)) return setInformations(true);\n\n    return setInformations(false);\n  }, [input]);\n\n  return (\n    <div className=\"login-screen\">\n      <h1 className=\"app-name\">Cooking Time</h1>\n      {createForm(input, setInput, informations)}\n      <button\n        type=\"button\"\n        className=\" btn btn-login\"\n        disabled={informations}\n        data-testid=\"login-submit-btn\"\n        onClick={() => handleFormSubmit(saveInput, input, history)}\n      >\n        Entrar\n      </button>\n    </div>\n  );\n}\n\nexport default LoginScreen;\n"]},"metadata":{},"sourceType":"module"}