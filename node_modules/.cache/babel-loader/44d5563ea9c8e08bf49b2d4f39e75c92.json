{"ast":null,"code":"import _slicedToArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useState,useEffect,useContext}from'react';import{Link}from'react-router-dom';import{ContextAplication}from'../context/ContextAplication';import{getAreaList,getMealByArea}from'../services/foodApi';import InferiorMenu from'./InferiorMenu';import Header from'./Header';import'./CSS/MainFoodScreen.css';function MealsList(Data){return/*#__PURE__*/React.createElement(\"div\",{className:\"recipes-results\"},Data.reduce(function(arr,e,i){if(i<12){return[].concat(_toConsumableArray(arr),[/*#__PURE__*/React.createElement(Link,{to:\"/comidas/\".concat(e.idMeal)},/*#__PURE__*/React.createElement(\"div\",{className:\"product-pic product-pic-\".concat(i,\" slide-in-fwd-center\"),\"data-testid\":\"\".concat(i,\"-recipe-card\")},/*#__PURE__*/React.createElement(\"img\",{className:\"recipe-image\",src:e.strMealThumb,alt:\"thumbnail\",width:\"120px\",\"data-testid\":\"\".concat(i,\"-card-img\")}),/*#__PURE__*/React.createElement(\"h5\",{\"data-testid\":\"\".concat(i,\"-card-name\")},e.strMeal.length>30?\"\".concat(e.strMeal.slice(0,30),\"...\"):e.strMeal)))]);}return arr;},[]));}function renderAreaFilter(areas,setAreaFilter,areaFilter,setMealsByArea){return/*#__PURE__*/React.createElement(\"select\",{className:\"select-filter\",\"data-testid\":\"explore-by-area-dropdown\",onChange:function onChange(e){getMealByArea(e.target.value).then(function(data){return setMealsByArea(data.meals);});setAreaFilter(e.target.value);},value:areaFilter},areas.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{\"data-testid\":\"\".concat(e.strArea,\"-option\"),value:e.strArea},e.strArea);}),/*#__PURE__*/React.createElement(\"option\",{\"data-testid\":\"All-option\",value:\"All\"},\"All\"));}function ShowResultsByArea(Data,mealsByArea,areaFilter){if(areaFilter!=='All'){return/*#__PURE__*/React.createElement(\"div\",{className:\"recipes-results\"},mealsByArea.reduce(function(arr,e,i){if(i<12){return[].concat(_toConsumableArray(arr),[/*#__PURE__*/React.createElement(Link,{to:\"/comidas/\".concat(e.idMeal)},/*#__PURE__*/React.createElement(\"div\",{className:\"product-pic product-pic-\".concat(i,\" slide-in-fwd-center\"),\"data-testid\":\"\".concat(i,\"-recipe-card\")},/*#__PURE__*/React.createElement(\"img\",{className:\"recipe-image\",src:e.strMealThumb,alt:\"thumbnail\",width:\"120px\",\"data-testid\":\"\".concat(i,\"-card-img\")}),/*#__PURE__*/React.createElement(\"h5\",{\"data-testid\":\"\".concat(i,\"-card-name\")},e.strMeal.length>30?\"\".concat(e.strMeal.slice(0,30),\"...\"):e.strMeal)))]);}return arr;},[]));}return MealsList(Data);}export default function ExploreFoodOriginScreen(){var _useContext=useContext(ContextAplication),Data=_useContext.Data,getMeals=_useContext.getMeals,searchInputVisible=_useContext.searchInputVisible;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setisLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),areas=_useState4[0],setAreas=_useState4[1];var _useState5=useState('All'),_useState6=_slicedToArray(_useState5,2),areaFilter=_useState6[0],setAreaFilter=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),mealsByArea=_useState8[0],setMealsByArea=_useState8[1];useEffect(function(){setisLoading(true);getMeals();setisLoading(false);getAreaList().then(function(data){return setAreas(data.meals);});},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"food-screen\"},/*#__PURE__*/React.createElement(Header,{screen:\"Explorar Origem\"}),isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}),!isLoading&&!searchInputVisible,renderAreaFilter(areas,setAreaFilter,areaFilter,setMealsByArea),!isLoading&&ShowResultsByArea(Data,mealsByArea,areaFilter),/*#__PURE__*/React.createElement(InferiorMenu,null)));}","map":{"version":3,"sources":["/home/diego/GitHub/recipes-app/src/components/ExploreFoodOriginScreen.jsx"],"names":["React","useState","useEffect","useContext","Link","ContextAplication","getAreaList","getMealByArea","InferiorMenu","Header","MealsList","Data","reduce","arr","e","i","idMeal","strMealThumb","strMeal","length","slice","renderAreaFilter","areas","setAreaFilter","areaFilter","setMealsByArea","target","value","then","data","meals","map","strArea","ShowResultsByArea","mealsByArea","ExploreFoodOriginScreen","getMeals","searchInputVisible","isLoading","setisLoading","setAreas"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ContextAplication } from '../context/ContextAplication';\nimport { getAreaList, getMealByArea } from '../services/foodApi';\nimport InferiorMenu from './InferiorMenu';\nimport Header from './Header';\nimport './CSS/MainFoodScreen.css';\n\nfunction MealsList(Data) {\n  return (\n    <div className=\"recipes-results\">\n      {Data.reduce((arr, e, i) => {\n        if (i < 12) {\n          return [...arr,\n            <Link to={`/comidas/${e.idMeal}`}>\n              <div className={`product-pic product-pic-${i} slide-in-fwd-center`} data-testid={`${i}-recipe-card`}>\n                <img\n                  className=\"recipe-image\"\n                  src={e.strMealThumb}\n                  alt=\"thumbnail\"\n                  width=\"120px\"\n                  data-testid={`${i}-card-img`}\n                />\n                <h5 data-testid={`${i}-card-name`}>{(e.strMeal.length > 30) ? `${e.strMeal.slice(0, 30)}...` : e.strMeal}</h5>\n              </div>\n            </Link>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction renderAreaFilter(areas, setAreaFilter, areaFilter, setMealsByArea) {\n  return (\n    <select\n      className=\"select-filter\"\n      data-testid=\"explore-by-area-dropdown\"\n      onChange={(e) => {\n        getMealByArea(e.target.value).then((data) => setMealsByArea(data.meals));\n        setAreaFilter(e.target.value);\n      }}\n      value={areaFilter}\n    >\n      {areas.map((e) => (\n        <option\n          data-testid={`${e.strArea}-option`}\n          value={e.strArea}\n        >\n          {e.strArea}\n        </option>\n      ))}\n      <option data-testid=\"All-option\" value=\"All\">All</option>\n    </select>\n  );\n}\n\nfunction ShowResultsByArea(Data, mealsByArea, areaFilter) {\n  if (areaFilter !== 'All') {\n    return (\n      <div className=\"recipes-results\">\n        {mealsByArea.reduce((arr, e, i) => {\n          if (i < 12) {\n            return [...arr,\n              <Link to={`/comidas/${e.idMeal}`}>\n                <div className={`product-pic product-pic-${i} slide-in-fwd-center`} data-testid={`${i}-recipe-card`}>\n                  <img\n                    className=\"recipe-image\"\n                    src={e.strMealThumb}\n                    alt=\"thumbnail\"\n                    width=\"120px\"\n                    data-testid={`${i}-card-img`}\n                  />\n                  <h5 data-testid={`${i}-card-name`}>{(e.strMeal.length > 30) ? `${e.strMeal.slice(0, 30)}...` : e.strMeal}</h5>\n                </div>\n              </Link>,\n            ];\n          }\n          return arr;\n        }, [])}\n      </div>\n    );\n  }\n  return MealsList(Data);\n}\n\nexport default function ExploreFoodOriginScreen() {\n  const {\n    Data,\n    getMeals,\n    searchInputVisible,\n  } = useContext(ContextAplication);\n  const [isLoading, setisLoading] = useState(false);\n  const [areas, setAreas] = useState([]);\n  const [areaFilter, setAreaFilter] = useState('All');\n  const [mealsByArea, setMealsByArea] = useState([]);\n\n  useEffect(() => {\n    setisLoading(true);\n    getMeals();\n    setisLoading(false);\n    getAreaList().then((data) => setAreas(data.meals));\n  }, []);\n\n  return (\n    <div>\n      <div className=\"food-screen\">\n        <Header screen=\"Explorar Origem\" />\n        {isLoading && <div className=\"loader\" />}\n        {!isLoading && !searchInputVisible}\n        {renderAreaFilter(areas, setAreaFilter, areaFilter, setMealsByArea)}\n        {!isLoading && ShowResultsByArea(Data, mealsByArea, areaFilter)}\n        <InferiorMenu />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}