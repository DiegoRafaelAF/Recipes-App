{"ast":null,"code":"import _slicedToArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import'./CSS/FavoriteRecipes.css';import favorite from\"../images/blackHeartIcon.svg\";import share from\"../images/shareIcon.svg\";import Header from'./Header';import meal from\"../images/meal.svg\";import drink from\"../images/drink.svg\";import filter from\"../images/filter.svg\";var colors=['#DFBC41','#e7736a','#FCF7C9','#C9DA73','#D3A585','#FAC55E','#FBF8D7','#63c252','#C79B7E','#F9F5BF','#C67206','#3EC1D6'];function copyToClipboard(type,id,setHide){navigator.clipboard.writeText(\"http://localhost:3000/\".concat(type,\"s/\").concat(id)).then(function(){setHide(false);setTimeout(function(){setHide(true);},2000);});}export function getColors(){var color=Math.floor(Math.random()*12);return colors[color];}function updateStorage(id,setFavorites){var storage=JSON.parse(localStorage.getItem('favoriteRecipes'));var newStorage=storage.filter(function(e){return e.id!==id;});localStorage.setItem('favoriteRecipes',JSON.stringify(newStorage));setFavorites(newStorage);}function filterBy(setFavorites,type){var storage=JSON.parse(localStorage.getItem('favoriteRecipes'));if(!storage){storage=[];}setFavorites(storage.filter(function(e){return e.type===type;}));}function getFavorites(setFavorites){var storage=JSON.parse(localStorage.getItem('favoriteRecipes'));if(!storage){storage=[];}setFavorites(storage);}function renderfilterButtons(setFavorites){return/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-filter-buttons\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button-main-screen\",\"data-testid\":\"filter-by-food-btn\",onClick:function onClick(){return filterBy(setFavorites,'comida');},type:\"button\"},/*#__PURE__*/React.createElement(\"img\",{src:meal,alt:\"meal\",width:\"30px\"}),\"Food\"),/*#__PURE__*/React.createElement(\"button\",{className:\"button-main-screen\",\"data-testid\":\"filter-by-drink-btn\",onClick:function onClick(){return filterBy(setFavorites,'bebida');},type:\"button\"},/*#__PURE__*/React.createElement(\"img\",{src:drink,alt:\"drink\",width:\"30px\"}),\"Drinks\"),/*#__PURE__*/React.createElement(\"button\",{className:\"button-main-screen\",\"data-testid\":\"filter-by-all-btn\",onClick:function onClick(){return getFavorites(setFavorites);},type:\"button\"},/*#__PURE__*/React.createElement(\"img\",{src:filter,alt:\"filter\",width:\"20px\"}),\"All\"));}function FavoriteRecipes(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favorites=_useState2[0],setFavorites=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),hide=_useState4[0],setHide=_useState4[1];useEffect(function(){getFavorites(setFavorites);},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{screen:\"Receitas Favoritas\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-recipes-screen\"},/*#__PURE__*/React.createElement(\"p\",{className:\"alert-favorite-screen\",hidden:hide},\"Link copiado!\"),renderfilterButtons(setFavorites),/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-recipes-container\"},favorites.map(function(e,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-recipes-card\",style:{backgroundColor:getColors()}},/*#__PURE__*/React.createElement(Link,{to:\"/\".concat(e.type,\"s/\").concat(e.id)},/*#__PURE__*/React.createElement(\"img\",{\"data-testid\":\"\".concat(i,\"-horizontal-image\"),src:e.image,alt:\"favorite\",width:\"150px\"})),/*#__PURE__*/React.createElement(Link,{to:\"/\".concat(e.type,\"s/\").concat(e.id)},/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(i,\"-horizontal-name\")},e.name)),/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"\".concat(i,\"-horizontal-top-text\")},e.alcoholicOrNot===''?/*#__PURE__*/React.createElement(\"p\",null,\"\".concat(e.area,\" - \").concat(e.category)):/*#__PURE__*/React.createElement(\"p\",null,e.alcoholicOrNot)),/*#__PURE__*/React.createElement(\"div\",{className:\"favorite-and-share\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return copyToClipboard(e.type,e.id,setHide);}},/*#__PURE__*/React.createElement(\"img\",{\"data-testid\":\"\".concat(i,\"-horizontal-share-btn\"),src:share,alt:\"share\"})),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return updateStorage(e.id,setFavorites);},type:\"button\"},/*#__PURE__*/React.createElement(\"img\",{\"data-testid\":\"\".concat(i,\"-horizontal-favorite-btn\"),src:favorite,alt:\"favorite\"}))));}))));}export default FavoriteRecipes;","map":{"version":3,"sources":["/home/diego/GitHub/recipes-app/src/components/FavoriteRecipes.jsx"],"names":["React","useState","useEffect","Link","Header","colors","copyToClipboard","type","id","setHide","navigator","clipboard","writeText","then","setTimeout","getColors","color","Math","floor","random","updateStorage","setFavorites","storage","JSON","parse","localStorage","getItem","newStorage","filter","e","setItem","stringify","filterBy","getFavorites","renderfilterButtons","meal","drink","FavoriteRecipes","favorites","hide","map","i","backgroundColor","image","name","alcoholicOrNot","area","category","share","favorite"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,2BAAP,C,8FAGA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,qHAKA,GAAMC,CAAAA,MAAM,CAAG,CAAC,SAAD,CAAY,SAAZ,CAAuB,SAAvB,CAAkC,SAAlC,CAA6C,SAA7C,CAAwD,SAAxD,CAAmE,SAAnE,CAA8E,SAA9E,CAAyF,SAAzF,CAAoG,SAApG,CAA+G,SAA/G,CAA0H,SAA1H,CAAf,CAEA,QAASC,CAAAA,eAAT,CAAyBC,IAAzB,CAA+BC,EAA/B,CAAmCC,OAAnC,CAA4C,CAC1CC,SAAS,CAACC,SAAV,CAAoBC,SAApB,iCAAuDL,IAAvD,cAAgEC,EAAhE,GACGK,IADH,CACQ,UAAM,CACVJ,OAAO,CAAC,KAAD,CAAP,CACAK,UAAU,CAAC,UAAM,CACfL,OAAO,CAAC,IAAD,CAAP,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CANH,EAOD,CAED,MAAO,SAASM,CAAAA,SAAT,EAAqB,CAC1B,GAAMC,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,EAA3B,CAAd,CACA,MAAOd,CAAAA,MAAM,CAACW,KAAD,CAAb,CACD,CAED,QAASI,CAAAA,aAAT,CAAuBZ,EAAvB,CAA2Ba,YAA3B,CAAyC,CACvC,GAAMC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAhB,CACA,GAAMC,CAAAA,UAAU,CAAGL,OAAO,CAACM,MAAR,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACrB,EAAF,GAASA,EAAhB,EAAf,CAAnB,CACAiB,YAAY,CAACK,OAAb,CAAqB,iBAArB,CAAwCP,IAAI,CAACQ,SAAL,CAAeJ,UAAf,CAAxC,EACAN,YAAY,CAACM,UAAD,CAAZ,CACD,CAED,QAASK,CAAAA,QAAT,CAAkBX,YAAlB,CAAgCd,IAAhC,CAAsC,CACpC,GAAIe,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAd,CACA,GAAI,CAACJ,OAAL,CAAc,CAAEA,OAAO,CAAG,EAAV,CAAe,CAC/BD,YAAY,CAACC,OAAO,CAACM,MAAR,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACtB,IAAF,GAAWA,IAAlB,EAAf,CAAD,CAAZ,CACD,CAED,QAAS0B,CAAAA,YAAT,CAAsBZ,YAAtB,CAAoC,CAClC,GAAIC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAd,CACA,GAAI,CAACJ,OAAL,CAAc,CAAEA,OAAO,CAAG,EAAV,CAAe,CAC/BD,YAAY,CAACC,OAAD,CAAZ,CACD,CAED,QAASY,CAAAA,mBAAT,CAA6Bb,YAA7B,CAA2C,CACzC,mBACE,2BAAK,SAAS,CAAC,yBAAf,eACE,8BACE,SAAS,CAAC,oBADZ,CAEE,cAAY,oBAFd,CAGE,OAAO,CAAE,yBAAMW,CAAAA,QAAQ,CAACX,YAAD,CAAe,QAAf,CAAd,EAHX,CAIE,IAAI,CAAC,QAJP,eAME,2BAAK,GAAG,CAAEc,IAAV,CAAgB,GAAG,CAAC,MAApB,CAA2B,KAAK,CAAC,MAAjC,EANF,QADF,cAUE,8BACE,SAAS,CAAC,oBADZ,CAEE,cAAY,qBAFd,CAGE,OAAO,CAAE,yBAAMH,CAAAA,QAAQ,CAACX,YAAD,CAAe,QAAf,CAAd,EAHX,CAIE,IAAI,CAAC,QAJP,eAME,2BAAK,GAAG,CAAEe,KAAV,CAAiB,GAAG,CAAC,OAArB,CAA6B,KAAK,CAAC,MAAnC,EANF,UAVF,cAmBE,8BACE,SAAS,CAAC,oBADZ,CAEE,cAAY,mBAFd,CAGE,OAAO,CAAE,yBAAMH,CAAAA,YAAY,CAACZ,YAAD,CAAlB,EAHX,CAIE,IAAI,CAAC,QAJP,eAME,2BAAK,GAAG,CAAEO,MAAV,CAAkB,GAAG,CAAC,QAAtB,CAA+B,KAAK,CAAC,MAArC,EANF,OAnBF,CADF,CA+BD,CAED,QAASS,CAAAA,eAAT,EAA2B,eACSpC,QAAQ,CAAC,EAAD,CADjB,wCAClBqC,SADkB,eACPjB,YADO,8BAEDpB,QAAQ,CAAC,IAAD,CAFP,yCAElBsC,IAFkB,eAEZ9B,OAFY,eAGzBP,SAAS,CAAC,UAAM,CACd+B,YAAY,CAACZ,YAAD,CAAZ,CACD,CAFQ,CAEN,EAFM,CAAT,CAGA,mBACE,4CACE,oBAAC,MAAD,EAAQ,MAAM,CAAC,oBAAf,EADF,cAEE,2BAAK,SAAS,CAAC,yBAAf,eACE,yBAAG,SAAS,CAAC,uBAAb,CAAqC,MAAM,CAAEkB,IAA7C,kBADF,CAEGL,mBAAmB,CAACb,YAAD,CAFtB,cAGE,2BAAK,SAAS,CAAC,4BAAf,EACGiB,SAAS,CAACE,GAAV,CAAc,SAACX,CAAD,CAAIY,CAAJ,qBAEX,2BAAK,SAAS,CAAC,uBAAf,CAAuC,KAAK,CAAE,CAAEC,eAAe,CAAE3B,SAAS,EAA5B,CAA9C,eACE,oBAAC,IAAD,EAAM,EAAE,YAAMc,CAAC,CAACtB,IAAR,cAAiBsB,CAAC,CAACrB,EAAnB,CAAR,eAAiC,2BAAK,wBAAgBiC,CAAhB,qBAAL,CAA2C,GAAG,CAAEZ,CAAC,CAACc,KAAlD,CAAyD,GAAG,CAAC,UAA7D,CAAwE,KAAK,CAAC,OAA9E,EAAjC,CADF,cAEE,oBAAC,IAAD,EAAM,EAAE,YAAMd,CAAC,CAACtB,IAAR,cAAiBsB,CAAC,CAACrB,EAAnB,CAAR,eAAiC,yBAAG,wBAAgBiC,CAAhB,oBAAH,EAAyCZ,CAAC,CAACe,IAA3C,CAAjC,CAFF,cAGE,2BAAK,wBAAgBH,CAAhB,wBAAL,EACIZ,CAAC,CAACgB,cAAF,GAAqB,EAAtB,cAA4B,uCAAOhB,CAAC,CAACiB,IAAT,eAAmBjB,CAAC,CAACkB,QAArB,EAA5B,cAAmE,6BAAIlB,CAAC,CAACgB,cAAN,CADtE,CAHF,cAME,2BAAK,SAAS,CAAC,oBAAf,eACE,8BACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMvC,CAAAA,eAAe,CAACuB,CAAC,CAACtB,IAAH,CAASsB,CAAC,CAACrB,EAAX,CAAeC,OAAf,CAArB,EAFX,eAIE,2BAAK,wBAAgBgC,CAAhB,yBAAL,CAA+C,GAAG,CAAEO,KAApD,CAA2D,GAAG,CAAC,OAA/D,EAJF,CADF,cAOE,8BACE,OAAO,CAAE,yBAAM5B,CAAAA,aAAa,CAACS,CAAC,CAACrB,EAAH,CAAOa,YAAP,CAAnB,EADX,CAEE,IAAI,CAAC,QAFP,eAIE,2BAAK,wBAAgBoB,CAAhB,4BAAL,CAAkD,GAAG,CAAEQ,QAAvD,CAAiE,GAAG,CAAC,UAArE,EAJF,CAPF,CANF,CAFW,EAAd,CADH,CAHF,CAFF,CADF,CAoCD,CAED,cAAeZ,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './CSS/FavoriteRecipes.css';\nimport favorite from '../images/blackHeartIcon.svg';\nimport share from '../images/shareIcon.svg';\nimport Header from './Header';\nimport meal from '../images/meal.svg';\nimport drink from '../images/drink.svg';\nimport filter from '../images/filter.svg';\n\nconst colors = ['#DFBC41', '#e7736a', '#FCF7C9', '#C9DA73', '#D3A585', '#FAC55E', '#FBF8D7', '#63c252', '#C79B7E', '#F9F5BF', '#C67206', '#3EC1D6'];\n\nfunction copyToClipboard(type, id, setHide) {\n  navigator.clipboard.writeText(`http://localhost:3000/${type}s/${id}`)\n    .then(() => {\n      setHide(false);\n      setTimeout(() => {\n        setHide(true);\n      }, 2000);\n    });\n}\n\nexport function getColors() {\n  const color = Math.floor(Math.random() * 12);\n  return colors[color];\n}\n\nfunction updateStorage(id, setFavorites) {\n  const storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  const newStorage = storage.filter((e) => e.id !== id);\n  localStorage.setItem('favoriteRecipes', JSON.stringify(newStorage));\n  setFavorites(newStorage);\n}\n\nfunction filterBy(setFavorites, type) {\n  let storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  if (!storage) { storage = []; }\n  setFavorites(storage.filter((e) => e.type === type));\n}\n\nfunction getFavorites(setFavorites) {\n  let storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  if (!storage) { storage = []; }\n  setFavorites(storage);\n}\n\nfunction renderfilterButtons(setFavorites) {\n  return (\n    <div className=\"favorite-filter-buttons\">\n      <button\n        className=\"button-main-screen\"\n        data-testid=\"filter-by-food-btn\"\n        onClick={() => filterBy(setFavorites, 'comida')}\n        type=\"button\"\n      >\n        <img src={meal} alt=\"meal\" width=\"30px\" />\n        Food\n      </button>\n      <button\n        className=\"button-main-screen\"\n        data-testid=\"filter-by-drink-btn\"\n        onClick={() => filterBy(setFavorites, 'bebida')}\n        type=\"button\"\n      >\n        <img src={drink} alt=\"drink\" width=\"30px\" />\n        Drinks\n      </button>\n      <button\n        className=\"button-main-screen\"\n        data-testid=\"filter-by-all-btn\"\n        onClick={() => getFavorites(setFavorites)}\n        type=\"button\"\n      >\n        <img src={filter} alt=\"filter\" width=\"20px\" />\n        All\n      </button>\n    </div>\n  );\n}\n\nfunction FavoriteRecipes() {\n  const [favorites, setFavorites] = useState([]);\n  const [hide, setHide] = useState(true);\n  useEffect(() => {\n    getFavorites(setFavorites);\n  }, []);\n  return (\n    <div>\n      <Header screen=\"Receitas Favoritas\" />\n      <div className=\"favorite-recipes-screen\">\n        <p className=\"alert-favorite-screen\" hidden={hide}>Link copiado!</p>\n        {renderfilterButtons(setFavorites)}\n        <div className=\"favorite-recipes-container\">\n          {favorites.map((e, i) => (\n            (\n              <div className=\"favorite-recipes-card\" style={{ backgroundColor: getColors() }}>\n                <Link to={`/${e.type}s/${e.id}`}><img data-testid={`${i}-horizontal-image`} src={e.image} alt=\"favorite\" width=\"150px\" /></Link>\n                <Link to={`/${e.type}s/${e.id}`}><p data-testid={`${i}-horizontal-name`}>{e.name}</p></Link>\n                <div data-testid={`${i}-horizontal-top-text`}>\n                  {(e.alcoholicOrNot === '') ? <p>{`${e.area} - ${e.category}`}</p> : <p>{e.alcoholicOrNot}</p>}\n                </div>\n                <div className=\"favorite-and-share\">\n                  <button\n                    type=\"button\"\n                    onClick={() => copyToClipboard(e.type, e.id, setHide)}\n                  >\n                    <img data-testid={`${i}-horizontal-share-btn`} src={share} alt=\"share\" />\n                  </button>\n                  <button\n                    onClick={() => updateStorage(e.id, setFavorites)}\n                    type=\"button\"\n                  >\n                    <img data-testid={`${i}-horizontal-favorite-btn`} src={favorite} alt=\"favorite\" />\n                  </button>\n                </div>\n              </div>\n            )\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default FavoriteRecipes;\n"]},"metadata":{},"sourceType":"module"}