{"ast":null,"code":"import _slicedToArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useState,useEffect,useContext}from'react';import{Link}from'react-router-dom';import{getCategoriesList,getMealByCategorie}from'../services/foodApi';import{ContextAplication}from'../context/ContextAplication';import InferiorMenu from'./InferiorMenu';import Header from'./Header';import'./CSS/MainFoodScreen.css';import chicken from\"../images/chicken.svg\";import beef from\"../images/beef.svg\";import goat from\"../images/goat.svg\";import dessert from\"../images/dessert.svg\";import breakfast from\"../images/breakfast.svg\";var filterPics=[beef,breakfast,chicken,dessert,goat];function FilterButtons(Categories,handleClick){return/*#__PURE__*/React.createElement(\"div\",{className:\"button-div\"},/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"All-category-filter\",type:\"button\",value:\"All\",onClick:handleClick,className:\"button-main-screen\",key:\"All\"},\"All\"),Categories.reduce(function(arr,e,i){if(i<5){return[].concat(_toConsumableArray(arr),[/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"\".concat(e.strCategory,\"-category-filter\"),value:e.strCategory,onClick:handleClick,className:\"button-main-screen\",key:e.strCategory},/*#__PURE__*/React.createElement(\"img\",{src:filterPics[i],alt:\"\",width:\"20px\"}),e.strCategory)]);}return arr;},[]));}function MealsList(Data){return/*#__PURE__*/React.createElement(\"div\",{className:\"recipes-results\"},Data.reduce(function(arr,e,i){if(i<12){return[].concat(_toConsumableArray(arr),[/*#__PURE__*/React.createElement(Link,{to:\"/comidas/\".concat(e.idMeal),key:e.idMeal},/*#__PURE__*/React.createElement(\"div\",{className:\"product-pic-\".concat(i,\" product-pic slide-in-fwd-center\"),\"data-testid\":\"\".concat(i,\"-recipe-card\")},/*#__PURE__*/React.createElement(\"img\",{src:e.strMealThumb,className:\"recipe-image\",alt:\"thumbnail\",width:\"120px\",\"data-testid\":\"\".concat(i,\"-card-img\")}),/*#__PURE__*/React.createElement(\"h5\",{\"data-testid\":\"\".concat(i,\"-card-name\")},e.strMeal)))]);}return arr;},[]));}function MainFoodScreen(){var _useContext=useContext(ContextAplication),Data=_useContext.Data,getMeals=_useContext.getMeals,setData=_useContext.setData,searchInputVisible=_useContext.searchInputVisible,setingredientFilter=_useContext.setingredientFilter;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState('All'),_useState4=_slicedToArray(_useState3,2),FoodFilter=_useState4[0],setFoodFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setisLoading=_useState6[1];useEffect(function(){setisLoading(true);getMeals();getCategoriesList().then(function(answer){return setCategories(answer.meals);});setisLoading(false);return function(){setingredientFilter('');};},[]);useEffect(function(){if(FoodFilter==='All'){getMeals();}else{getMealByCategorie(FoodFilter).then(function(answer){return setData(answer.meals);});}},[FoodFilter]);var handleClick=function handleClick(event){if(event.target.value!==FoodFilter){setFoodFilter(event.target.value);}else{setFoodFilter('All');}};return/*#__PURE__*/React.createElement(\"div\",{className:\"food-screen\"},/*#__PURE__*/React.createElement(Header,{screen:'Comidas'}),isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}),!isLoading&&!searchInputVisible&&FilterButtons(Categories,handleClick),!isLoading&&!searchInputVisible&&MealsList(Data),/*#__PURE__*/React.createElement(InferiorMenu,null));}export default MainFoodScreen;","map":{"version":3,"sources":["/home/diego/GitHub/recipes-app/src/components/MainFoodScreen.jsx"],"names":["React","useState","useEffect","useContext","Link","getCategoriesList","getMealByCategorie","ContextAplication","InferiorMenu","Header","filterPics","beef","breakfast","chicken","dessert","goat","FilterButtons","Categories","handleClick","reduce","arr","e","i","strCategory","MealsList","Data","idMeal","strMealThumb","strMeal","MainFoodScreen","getMeals","setData","searchInputVisible","setingredientFilter","setCategories","FoodFilter","setFoodFilter","isLoading","setisLoading","then","answer","meals","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategoriesList, getMealByCategorie } from '../services/foodApi';\nimport { ContextAplication } from '../context/ContextAplication';\nimport InferiorMenu from './InferiorMenu';\nimport Header from './Header';\nimport './CSS/MainFoodScreen.css';\nimport chicken from '../images/chicken.svg';\nimport beef from '../images/beef.svg';\nimport goat from '../images/goat.svg';\nimport dessert from '../images/dessert.svg';\nimport breakfast from '../images/breakfast.svg';\n\nconst filterPics = [beef, breakfast, chicken, dessert, goat];\n\nfunction FilterButtons(Categories, handleClick) {\n  return (\n    <div className=\"button-div\">\n      <button\n        data-testid=\"All-category-filter\"\n        type=\"button\"\n        value=\"All\"\n        onClick={handleClick}\n        className=\"button-main-screen\"\n        key=\"All\"\n      >\n        All\n      </button>\n      {Categories.reduce((arr, e, i) => {\n        if (i < 5) {\n          return [...arr,\n            <button\n              type=\"button\"\n              data-testid={`${e.strCategory}-category-filter`}\n              value={e.strCategory}\n              onClick={handleClick}\n              className=\"button-main-screen\"\n              key={e.strCategory}\n            >\n              <img src={filterPics[i]} alt=\"\" width=\"20px\" />\n              {e.strCategory}\n            </button>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction MealsList(Data) {\n  return (\n    <div className=\"recipes-results\">\n      {Data.reduce((arr, e, i) => {\n        if (i < 12) {\n          return [...arr,\n            <Link to={`/comidas/${e.idMeal}`} key={e.idMeal}>\n              <div\n                className={`product-pic-${i} product-pic slide-in-fwd-center`}\n                data-testid={`${i}-recipe-card`}\n              >\n                <img src={e.strMealThumb} className=\"recipe-image\" alt=\"thumbnail\" width=\"120px\" data-testid={`${i}-card-img`} />\n                <h5 data-testid={`${i}-card-name`}>{e.strMeal}</h5>\n              </div>\n            </Link>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction MainFoodScreen() {\n  const {\n    Data,\n    getMeals,\n    setData,\n    searchInputVisible,\n    setingredientFilter,\n  } = useContext(ContextAplication);\n  const [Categories, setCategories] = useState([]);\n  const [FoodFilter, setFoodFilter] = useState('All');\n  const [isLoading, setisLoading] = useState(false);\n\n  useEffect(() => {\n    setisLoading(true);\n    getMeals();\n    getCategoriesList()\n      .then((answer) => setCategories(answer.meals));\n    setisLoading(false);\n    return () => {\n      setingredientFilter('');\n    };\n  }, []);\n\n  useEffect(() => {\n    if (FoodFilter === 'All') {\n      getMeals();\n    } else {\n      getMealByCategorie(FoodFilter)\n        .then((answer) => setData(answer.meals));\n    }\n  }, [FoodFilter]);\n\n  const handleClick = (event) => {\n    if (event.target.value !== FoodFilter) {\n      setFoodFilter(event.target.value);\n    } else {\n      setFoodFilter('All');\n    }\n  };\n\n  return (\n    <div className=\"food-screen\">\n      <Header screen={'Comidas'} />\n      {isLoading && <div className=\"loader\" />}\n      {!isLoading && !searchInputVisible && FilterButtons(Categories, handleClick)}\n      {!isLoading && !searchInputVisible && MealsList(Data)}\n      <InferiorMenu />\n    </div>\n  );\n}\n\nexport default MainFoodScreen;\n"]},"metadata":{},"sourceType":"module"}