{"ast":null,"code":"import _slicedToArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/home/diego/GitHub/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useState,useEffect,useContext}from'react';import{Link}from'react-router-dom';import{getListDrinksCategories,getDrinkByCategories}from'../services/drink-api';import{ContextAplication}from'../context/ContextAplication';import InferiorMenu from'./InferiorMenu';import Header from'./Header';import'./CSS/MainFoodScreen.css';import chicken from\"../images/chicken.svg\";import beef from\"../images/beef.svg\";import goat from\"../images/goat.svg\";import dessert from\"../images/dessert.svg\";import breakfast from\"../images/breakfast.svg\";var filterPics=[beef,breakfast,chicken,dessert,goat];function FilterButtons(Categories,handleClick){return/*#__PURE__*/React.createElement(\"div\",{className:\"button-div\"},/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"All-category-filter\",type:\"button\",value:\"All\",onClick:handleClick,className:\"button-main-screen\",key:\"All\"},\"All\"),Categories.reduce(function(arr,e,i){if(i<5){return[].concat(_toConsumableArray(arr),[/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"\".concat(e.strCategory,\"-category-filter\"),value:e.strCategory,onClick:handleClick,className:\"button-main-screen\",key:e.strCategory},/*#__PURE__*/React.createElement(\"img\",{src:filterPics[i],alt:\"\",width:\"20px\"}),e.strCategory)]);}return arr;},[]));}function DrinksList(Data){return/*#__PURE__*/React.createElement(\"div\",{className:\"recipes-results\"},Data.reduce(function(arr,e,i){if(i<12){return[].concat(_toConsumableArray(arr),[/*#__PURE__*/React.createElement(Link,{to:\"/bebidas/\".concat(e.idDrink)},/*#__PURE__*/React.createElement(\"div\",{className:\"product-pic-\".concat(i,\" product-pic slide-in-fwd-center\"),\"data-testid\":\"\".concat(i,\"-recipe-card\"),key:e.idDrink},/*#__PURE__*/React.createElement(\"img\",{src:e.strDrinkThumb,className:\"recipe-image\",alt:\"thumbnail\",width:\"120px\",\"data-testid\":\"\".concat(i,\"-card-img\")}),/*#__PURE__*/React.createElement(\"h5\",{\"data-testid\":\"\".concat(i,\"-card-name\")},e.strDrink)))]);}return arr;},[]));}function MainFoodScreen(){var _useContext=useContext(ContextAplication),Data=_useContext.Data,getDrinks=_useContext.getDrinks,setData=_useContext.setData,searchInputVisible=_useContext.searchInputVisible,setingredientFilter=_useContext.setingredientFilter;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState('All'),_useState4=_slicedToArray(_useState3,2),DrinkFilter=_useState4[0],setDrinkFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setisLoading=_useState6[1];useEffect(function(){setisLoading(true);getDrinks();getListDrinksCategories().then(function(answer){return setCategories(answer.drinks);});setisLoading(false);return function(){setingredientFilter('');};},[]);useEffect(function(){if(DrinkFilter==='All'){getDrinks();}else{getDrinkByCategories(DrinkFilter).then(function(answer){return setData(answer.drinks);});}},[DrinkFilter]);var handleClick=function handleClick(event){if(event.target.value!==DrinkFilter){setDrinkFilter(event.target.value);}else{setDrinkFilter('All');}};return/*#__PURE__*/React.createElement(\"div\",{className:\"food-screen\"},/*#__PURE__*/React.createElement(Header,{screen:'Bebidas'}),isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}),!isLoading&&!searchInputVisible&&FilterButtons(Categories,handleClick),!isLoading&&!searchInputVisible&&DrinksList(Data),/*#__PURE__*/React.createElement(InferiorMenu,null));}export default MainFoodScreen;","map":{"version":3,"sources":["/home/diego/GitHub/recipes-app/src/components/MainDrinkScreen.jsx"],"names":["React","useState","useEffect","useContext","Link","getListDrinksCategories","getDrinkByCategories","ContextAplication","InferiorMenu","Header","filterPics","beef","breakfast","chicken","dessert","goat","FilterButtons","Categories","handleClick","reduce","arr","e","i","strCategory","DrinksList","Data","idDrink","strDrinkThumb","strDrink","MainFoodScreen","getDrinks","setData","searchInputVisible","setingredientFilter","setCategories","DrinkFilter","setDrinkFilter","isLoading","setisLoading","then","answer","drinks","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getListDrinksCategories, getDrinkByCategories } from '../services/drink-api';\nimport { ContextAplication } from '../context/ContextAplication';\nimport InferiorMenu from './InferiorMenu';\nimport Header from './Header';\nimport './CSS/MainFoodScreen.css';\nimport chicken from '../images/chicken.svg';\nimport beef from '../images/beef.svg';\nimport goat from '../images/goat.svg';\nimport dessert from '../images/dessert.svg';\nimport breakfast from '../images/breakfast.svg';\n\nconst filterPics = [beef, breakfast, chicken, dessert, goat];\n\nfunction FilterButtons(Categories, handleClick) {\n  return (\n    <div className=\"button-div\">\n      <button\n        data-testid=\"All-category-filter\"\n        type=\"button\"\n        value=\"All\"\n        onClick={handleClick}\n        className=\"button-main-screen\"\n        key=\"All\"\n      >\n        All\n      </button>\n      {Categories.reduce((arr, e, i) => {\n        if (i < 5) {\n          return [...arr,\n            <button\n              type=\"button\"\n              data-testid={`${e.strCategory}-category-filter`}\n              value={e.strCategory}\n              onClick={handleClick}\n              className=\"button-main-screen\"\n              key={e.strCategory}\n            >\n              <img src={filterPics[i]} alt=\"\" width=\"20px\" />\n              {e.strCategory}\n            </button>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction DrinksList(Data) {\n  return (\n    <div className=\"recipes-results\">\n      {Data.reduce((arr, e, i) => {\n        if (i < 12) {\n          return [...arr,\n            <Link to={`/bebidas/${e.idDrink}`}>\n              <div\n                className={`product-pic-${i} product-pic slide-in-fwd-center`}\n                data-testid={`${i}-recipe-card`}\n                key={e.idDrink}\n              >\n                <img src={e.strDrinkThumb} className=\"recipe-image\" alt=\"thumbnail\" width=\"120px\" data-testid={`${i}-card-img`} />\n                <h5 data-testid={`${i}-card-name`}>{e.strDrink}</h5>\n              </div>\n            </Link>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction MainFoodScreen() {\n  const {\n    Data,\n    getDrinks,\n    setData,\n    searchInputVisible,\n    setingredientFilter,\n  } = useContext(ContextAplication);\n  const [Categories, setCategories] = useState([]);\n  const [DrinkFilter, setDrinkFilter] = useState('All');\n  const [isLoading, setisLoading] = useState(false);\n\n  useEffect(() => {\n    setisLoading(true);\n    getDrinks();\n    getListDrinksCategories()\n      .then((answer) => setCategories(answer.drinks));\n    setisLoading(false);\n    return () => {\n      setingredientFilter('');\n    };\n  }, []);\n\n  useEffect(() => {\n    if (DrinkFilter === 'All') {\n      getDrinks();\n    } else {\n      getDrinkByCategories(DrinkFilter)\n        .then((answer) => setData(answer.drinks));\n    }\n  }, [DrinkFilter]);\n\n  const handleClick = (event) => {\n    if (event.target.value !== DrinkFilter) {\n      setDrinkFilter(event.target.value);\n    } else {\n      setDrinkFilter('All');\n    }\n  };\n\n  return (\n    <div className=\"food-screen\">\n      <Header screen={'Bebidas'} />\n      {isLoading && <div className=\"loader\" />}\n      {!isLoading && !searchInputVisible && FilterButtons(Categories, handleClick)}\n      {!isLoading && !searchInputVisible && DrinksList(Data)}\n      <InferiorMenu />\n    </div>\n  );\n}\n\nexport default MainFoodScreen;\n"]},"metadata":{},"sourceType":"module"}